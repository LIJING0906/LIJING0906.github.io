{"title":"vue的过渡小记（多元素、多组件）","date":"2018-11-06T03:30:37.000Z","excerpt":"","slug":"vuetransition","comments":true,"dropcap":true,"tags":["vue2.x"],"categories":["vue"],"updated":"2019-12-01T13:34:23.000Z","content":"<p>网页中，一般都存在切换的场景，vue提供了一个简单的切换过渡效果，用&lt; transition&gt;标签包裹要切换的部分即可。</p>\n<h1 id=\"多元素过渡\"><a href=\"#多元素过渡\" class=\"headerlink\" title=\"多元素过渡\"></a><strong>多元素过渡</strong></h1><h3 id=\"绑定key\"><a href=\"#绑定key\" class=\"headerlink\" title=\"绑定key\"></a>绑定key</h3><p><a href=\"https://cn.vuejs.org/v2/guide/transitions.html#多个元素的过渡\" target=\"_blank\" rel=\"noopener\">vue官网</a>上有写到：</p>\n<blockquote>\n<p>当有<strong>相同标签名</strong>的元素切换时，需要通过<strong><em>key</em></strong>特性设置唯一的值来标记以让vue区分它们，否则vue为了效率只会替换相同标签内部的内容。即使在技术上没有必要，<strong>在给&lt; transition&gt;组件中的多个元素设置key是宇哥更好的实践</strong></p>\n</blockquote>\n<p>示例代码：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transition</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-if</span>=<span class=\"string\">\"isEditing\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"save\"</span>&gt;</span>Save<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-else</span> <span class=\"attr\">key</span>=<span class=\"string\">\"edit\"</span>&gt;</span>Edit<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">transition</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>上面栗子可以简写为：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transition</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">:key</span>=<span class=\"string\">\"isEditing\"</span>&gt;</span>&#123;&#123;isEditing ? 'Save' : 'Edit'&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">transition</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"过渡模式\"><a href=\"#过渡模式\" class=\"headerlink\" title=\"过渡模式\"></a>过渡模式</h3><p>vue提供两种过渡模式</p>\n<ul>\n<li><strong><em>in-out</em></strong> 新元素先进行过渡，完成之后当前元素过渡离开</li>\n<li><strong><em>out-in</em></strong> 当前元素先进行过渡，完成之后新元素过渡进入<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transition</span> <span class=\"attr\">mode</span>=<span class=\"string\">\"in-out\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"fade\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- name属性的值是便于写样式 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">transition</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h1 id=\"多组件过渡\"><a href=\"#多组件过渡\" class=\"headerlink\" title=\"多组件过渡\"></a><strong>多组件过渡</strong></h1><p>多个组件过渡，就不需要<strong><em>key</em></strong>特性，使用<a href=\"https://lijing0906.github.io/post/vueis\" target=\"_blank\" rel=\"noopener\">动态组件</a>就OK</p>\n","prev":{"title":"elementUI 2.0.11自定义表头","slug":"elerenderheader"},"next":{"title":"vue2.x中的：is和is的区别","slug":"vueis"},"link":"/vuetransition","toc":[{"title":"<strong>多元素过渡</strong>","id":"多元素过渡","index":"1"},{"title":"<strong>多组件过渡</strong>","id":"多组件过渡","index":"2"}]}