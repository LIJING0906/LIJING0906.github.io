{"title":"CSS3过渡和动画","date":"2018-11-27T06:25:42.000Z","excerpt":"","slug":"css3anitran","comments":true,"dropcap":true,"tags":["CSS3"],"categories":["CSS"],"updated":"2019-12-01T13:34:23.000Z","content":"<p>最近的一个项目的首页参考了两个网站的动画效果<br><img src=\"/2018/11/27/css3anitran/top.png\" alt=\"\"><br><a href=\"http://iops.ai/\" target=\"_blank\" rel=\"noopener\">智能运维</a>,圆球一直匀速旋转。<br><img src=\"/2018/11/27/css3anitran/middle.png\" alt=\"\"><br><a href=\"http://aiops.baidu.com/#/product/intelligentProduct\" target=\"_blank\" rel=\"noopener\">百度智能运维</a>,背景图片一直匀速来回移动，鼠标移入时标题和渐变小条分别往上和往下匀速移动到固定的某一位置，同时中间的简介显示，鼠标移出匀速回到初始状态。</p>\n<h1 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a><strong>代码实现</strong></h1><ol>\n<li><p>HTML</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"testPage\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"topBar\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ball\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./css3anitran/0.png\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">srcset</span>=<span class=\"string\">\"\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottomBar\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./css3anitran/1.png\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"节假日节假日\"</span> <span class=\"attr\">srcset</span>=<span class=\"string\">\"\"</span>&gt;</span><span class=\"comment\">&lt;!--左右移动的背景图--&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"mask\"</span>&gt;</span><span class=\"comment\">&lt;!--遮罩层--&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"title\"</span>&gt;</span>节假日节假日<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"comment\">&lt;!--标题--&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"introduce\"</span>&gt;</span>节假日节假日节假日节假日节假日节假日节假日节假日节假日<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"comment\">&lt;!--简介--&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./css3anitran/5.png\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">srcset</span>=<span class=\"string\">\"\"</span>&gt;</span><span class=\"comment\">&lt;!--小条--&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>CSS</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#testPage</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    .topBar&#123;</span><br><span class=\"line\">        <span class=\"selector-tag\">height</span>: 420<span class=\"selector-tag\">px</span>;</span><br><span class=\"line\">        <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#17263d</span>;</span><br><span class=\"line\">        <span class=\"selector-tag\">position</span>: <span class=\"selector-tag\">relative</span>;</span><br><span class=\"line\">        <span class=\"selector-tag\">overflow</span>: <span class=\"selector-tag\">hidden</span>;</span><br><span class=\"line\">        <span class=\"selector-class\">.ball</span>&#123;</span><br><span class=\"line\">            <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">            <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">top</span>: <span class=\"number\">14px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> -<span class=\"number\">440px</span>;</span><br><span class=\"line\">            animation: spin 90s linear infinite;  //使用旋转动画，动画名称 完成时间 速度曲线(线性) 重复次数(无线循环)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        @keyframes spin &#123;   //定义旋转动画</span><br><span class=\"line\">            <span class=\"selector-tag\">from</span> &#123; <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(0deg); &#125;</span><br><span class=\"line\">            <span class=\"selector-tag\">to</span> &#123; <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(360deg); &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"selector-class\">.bottomBar</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">padding-top</span>: <span class=\"number\">80px</span>;</span><br><span class=\"line\">        ul&#123;</span><br><span class=\"line\">            <span class=\"selector-tag\">width</span>: 1280<span class=\"selector-tag\">px</span>;</span><br><span class=\"line\">            <span class=\"selector-tag\">margin</span>: 0 <span class=\"selector-tag\">auto</span>;</span><br><span class=\"line\">            <span class=\"selector-tag\">padding</span>: 0;</span><br><span class=\"line\">            <span class=\"selector-tag\">display</span>: <span class=\"selector-tag\">flex</span>;</span><br><span class=\"line\">            <span class=\"selector-tag\">justify-content</span>: <span class=\"selector-tag\">space-between</span>;</span><br><span class=\"line\">            <span class=\"selector-tag\">li</span>&#123;</span><br><span class=\"line\">                <span class=\"attribute\">list-style</span>: none;</span><br><span class=\"line\">                <span class=\"attribute\">width</span>: <span class=\"number\">280px</span>;</span><br><span class=\"line\">                <span class=\"attribute\">height</span>: <span class=\"number\">354px</span>;</span><br><span class=\"line\">                overflow: hidden; //隐藏图片超出的部分</span><br><span class=\"line\">                position: relative; //父相对定位，子(背景img和遮罩层div.mask)绝对定位</span><br><span class=\"line\">                &gt;<span class=\"selector-tag\">img</span>&#123;</span><br><span class=\"line\">                    width: 460px; //图片宽比li大一些</span><br><span class=\"line\">                    <span class=\"selector-tag\">height</span>: 354<span class=\"selector-tag\">px</span>;</span><br><span class=\"line\">                    <span class=\"selector-tag\">position</span>: <span class=\"selector-tag\">absolute</span>;</span><br><span class=\"line\">                    <span class=\"selector-tag\">top</span>: 0;</span><br><span class=\"line\">                    left: -90px; //初始状态显示图片的中间位置，(460-280)/2=90</span><br><span class=\"line\">                    <span class=\"selector-tag\">animation</span>: <span class=\"selector-tag\">imgmove</span> 40<span class=\"selector-tag\">s</span> <span class=\"selector-tag\">linear</span> <span class=\"selector-tag\">infinite</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                @<span class=\"keyword\">keyframes</span> imgmove</span><br><span class=\"line\">                &#123; 0% &#123;left: -180px;&#125;   50% &#123;left: 0px;&#125;   100% &#123;left: -180px;&#125; &#125; //背景图片要移动到边界，需要向左或者向右2*90=180</span><br><span class=\"line\">                <span class=\"selector-class\">.mask</span>&#123;</span><br><span class=\"line\">                    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">                    <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">                    <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">                    <span class=\"attribute\">width</span>: <span class=\"number\">216px</span>;</span><br><span class=\"line\">                    <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">                    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">32px</span>;</span><br><span class=\"line\">                    <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">                    <span class=\"attribute\">font-family</span>: Microsoft YaHei;</span><br><span class=\"line\">                    <span class=\"attribute\">letter-spacing</span>: <span class=\"number\">1px</span>;</span><br><span class=\"line\">                    background: rgba(15,28,48,0.8); //初始背景色</span><br><span class=\"line\">                    transition: background 0.5s; //0.5s内变换背景色</span><br><span class=\"line\">                    <span class=\"selector-class\">.title</span>&#123;</span><br><span class=\"line\">                        <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">                        <span class=\"attribute\">margin</span>: <span class=\"number\">144px</span> <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">                        <span class=\"attribute\">transition</span>: margin-top <span class=\"number\">0.5s</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"selector-class\">.introduce</span>&#123;</span><br><span class=\"line\">                        position: absolute; //绝对定位于.mask中，不然.title和小条img改变margin的时候会跟着滑动</span><br><span class=\"line\">                        <span class=\"selector-tag\">left</span>: 0;</span><br><span class=\"line\">                        <span class=\"selector-tag\">top</span>: 0;</span><br><span class=\"line\">                        <span class=\"selector-tag\">text-align</span>: <span class=\"selector-tag\">left</span>;</span><br><span class=\"line\">                        <span class=\"selector-tag\">font-size</span>: 14<span class=\"selector-tag\">px</span>;</span><br><span class=\"line\">                        <span class=\"selector-tag\">line-height</span>: 30<span class=\"selector-tag\">px</span>;</span><br><span class=\"line\">                        <span class=\"selector-tag\">height</span>: 120<span class=\"selector-tag\">px</span>;</span><br><span class=\"line\">                        <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#fff</span>;</span><br><span class=\"line\">                        <span class=\"selector-tag\">font-family</span>: <span class=\"selector-tag\">Microsoft</span> <span class=\"selector-tag\">YaHei</span>;</span><br><span class=\"line\">                        <span class=\"selector-tag\">margin</span>: 116<span class=\"selector-tag\">px</span> 0;</span><br><span class=\"line\">                        <span class=\"selector-tag\">padding</span>: 0 42<span class=\"selector-tag\">px</span>;</span><br><span class=\"line\">                        opacity: 0; //初始透明度，完全透明</span><br><span class=\"line\">                        transition: opacity 0.5s; //0.5s内变换透明度</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"selector-tag\">img</span>&#123;</span><br><span class=\"line\">                        margin: 20px 0 168px; //初始margin</span><br><span class=\"line\">                        transition: margin 0.5s;  //0.5s内变换外边距</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    &amp;:hover&#123; //hover的时候要变成的样子</span><br><span class=\"line\">                        <span class=\"selector-tag\">background</span>: <span class=\"selector-tag\">linear-gradient</span>(<span class=\"selector-tag\">rgba</span>(0, 178, 217,0<span class=\"selector-class\">.8</span>), <span class=\"selector-tag\">rgba</span>(13, 43, 111, 0<span class=\"selector-class\">.8</span>));</span><br><span class=\"line\">                        <span class=\"selector-class\">.title</span>&#123;</span><br><span class=\"line\">                            <span class=\"attribute\">margin-top</span>: <span class=\"number\">78px</span>; </span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        <span class=\"selector-class\">.introduce</span>&#123;</span><br><span class=\"line\">                            <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        <span class=\"selector-tag\">img</span>&#123;</span><br><span class=\"line\">                            <span class=\"attribute\">margin</span>: <span class=\"number\">239px</span> <span class=\"number\">0</span> <span class=\"number\">1px</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n","prev":{"title":"EChartsLineBar","slug":"EChartsLineBar"},"next":{"title":"elementUI 2.0.11自定义表头","slug":"elerenderheader"},"link":"/css3anitran","toc":[{"title":"<strong>代码实现</strong>","id":"代码实现","index":"1"}]}